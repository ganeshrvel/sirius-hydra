<html lang="en">

<script src="./hls.js"></script>

<body>
	<audio id="audio-player" controls></audio>
	<button id="play-button">Play</button>
</body>

<script>
  const audioElement = document.getElementById('audio-player');
  const playButton = document.getElementById('play-button');

  // URL of the M3U8 audio file
  const m3u8Url = 'https://air.pc.cdn.bitgravity.com/air/live/pbaudio045/playlist.m3u8';

  if (Hls.isSupported()) {
    const hls = new Hls();
    hls.loadSource(m3u8Url);
    hls.attachMedia(audioElement);
    hls.on(Hls.Events.MANIFEST_PARSED, () => {
      playButton.disabled = false;
      audioElement.play();
    });
  } else if (audioElement.canPlayType('application/vnd.apple.mpegurl')) {
    audioElement.src = m3u8Url;
    audioElement.addEventListener('loadedmetadata', () => {
      playButton.disabled = false;
      audioElement.play();
    });
  }

  playButton.addEventListener('click', () => {
    audioElement.play();
  });
</script>

</html>
